= What is OpenAPI
:excerpt: OpenAPI describes how an Application Programming Interface (API) works, how a sequence of APIs work together, generate client code, create tests, apply design standards, deploy documentation, and much more.

OpenAPI (the "OpenAPI Specification") is a standard for describing an API. OpenAPI is managed by the https://www.openapis.org/[OpenAPI Initiative] (OAI). The https://spec.openapis.org/oas/v3.1.0[OpenAPI Specification] (OAS) defines an open and independent description format for HTTP API services, which allows both humans and computers to discover and understand how an API works and how to interact with it, without the need to look at the source code.

OpenAPI provides a machine-readable structured data format which can be also be read and written by people, allowing for tooling to help API developers, API product managers, technical writers, and governance teams, all the way through the API lifecycle.

image::/images/guides/openapi/specification/What-is-OpenAPI-Simple-API-Lifecycle-Vertical.png[A flow diagram showing Requirements > Design > Configure / Publish / Develop, then Deploy and Test.]

_Diagram created by https://www.openapis.org/[OpenAPI Initiative]._

== Concepts

As with anything in computing there's lots of terminology and some definitions vary or overlap, which can be a bit confusing. Here is a quick reminder to understand correctly every concept and call a cat a cat.

image::https://storage.googleapis.com/bump-blog-resources/what-is-openapi/bump-api-call.gif[Call a cat a cat gif]

== OpenAPI structure

Your OpenAPI documents lets you describe your REST API:

* Define general information about your API: description, terms of use, license, contact, etc...
* Authentication methods `HTTP`, `API keys`, `OAuth 2`, `OpenID`, etc...
* Available endpoints `/users`, etc...
* Since OpenAPI 3.1, https://bump.sh/blog/changes-in-openapi-3-1#webhooks-support[available webhooks]
* Available operations on each endpoint: `GET`, `POST`, `PUT`, `PATCH`, `DELETE`, etc...
* Input and output parameters for each operation

== Format

OpenAPI documents can be written in https://yaml.org/spec/1.2.2/[YAML] or https://www.json.org/json-en.html[JSON] formats.

These formats were chosen because they are easy for a human to read and write, and easy for machines to parse. In practice, YAML is the most used format adopted to write OpenAPI documents. Like it or not, YAML is easier to read than JSON mainly because it reduces the use of markup tags. Also, it is a format that is widely used to write any sort of software configuration.

Here is an example of a partial OpenAPI document covering one endpoint, written in YAML:

[,yaml]
----
/previews:
  post:
    summary: Create a preview
    description: |
      Create a preview for a given documentation file. The preview will have a unique
      temporary URL, and will be active for 30 minutes.
    security: []
    requestBody:
      $ref: "#/components/requestBodies/Preview"
    responses:
      "201":
        description: "Success"
        content:
          "application/json":
            schema:
              $ref: "#/components/schemas/Preview"
----

=== OpenAPI Specification

_Also known as OpenAPI spec / OAS_

The "OpenAPI Specification" describes the https://github.com/OAI/OpenAPI-Specification[specification written and maintained] by the https://openapis.org/[OpenAPI Initiative], and published on https://spec.openapis.org/[spec.openapis.org]. This is a technical document that helps OpenAPI users and tooling vendors have one set of expectations about how things should work.

=== OpenAPI Document

_Also known as OpenAPI documents / OpenAPI file / OpenAPI description / OpenAPI contract_

An OpenAPI document describes how your API works, or how it will work when it's been built, and it's written following the OpenAPI specification. Think of this like a blueprint for your API. While an "API description" is a vague concept, OpenAPI Document is pretty concrete, it's where the OpenAPI that describes your API lives, and is usually something like `openapi.yaml` or `openapi.json`.

=== OpenAPI Documentation

_Also known as API Reference_

== When you have an OpenAPI document one of the main things people do with it is create API documentation, more specifically "API Reference Documentation", which is human-readable technical documentation showing an end user all the relevant information about endpoints, requests, responses, etc. Your documentation can be automatically generated from your OpenAPI document to avoid the pain of writing it by hand.

title: "A brief history of OpenAPI"
authors: phil
excerpt: OpenAPI allows to describe how an API works, how a sequence of APIs work together, generate client code, create tests, apply design standards, deploy documentation, and much more.
date: 2024-07-25
--

The OpenAPI Specification started off life with another name, and this can cause a bit of confusion. Until version 3.0, the specification was still called "Swagger", before being renamed to "OpenAPI" in 2016. It's actually a "retroactive" rename, so even v2.0 and earlier are called OpenAPI now.

The OpenAPI Specification is now supervised by the https://www.openapis.org/[OpenAPI Initiative], an open-source project under the https://linuxfoundation.org/[Linux Foundation].

The name Swagger is still popular, and many of the tools have the word Swagger in, but generally speaking you are better off searching for "OpenAPI tools" than "Swagger tools" because those are mostly old outdated tools which don't work with modern versions of OpenAPI.

== Major differences between OpenAPI 2.0, 3.0, 3.1

=== Versions

In the 2.0 specification, a property called `swagger` indicated which version of the specification you are using. In OpenAPI 3.0, this is replaced by a new `openapi` property:

* `swagger: "2.0"` line is thus transformed into `openapi: "3.0.0"`

=== Structural changes

The following image sums up the main structural changes between 2.0 and 3.0. As you can see, a simplification effort has been made to group each concern in a more logical way.

image::https://storage.googleapis.com/bump-blog-resources/what-is-openapi/OpenAPI-2-versus-OpenAPI-3.png[openapi 2 versus openapi 3]

If you want to get more into the details about what changed between OpenAPI 3.0 and 3.1, you can have a look at https://www.openapis.org/blog/2021/02/16/migrating-from-openapi-3-0-to-3-1-0[migrating from OpenAPI v3.0 to v3.1] which I wrote for OAI.

== OpenAPI Benefits

OpenAPI is a game-changer for saving your team time and money. By automating routine tasks like creating detailed API documentation, generating client libraries and generating chunks of server-side code, even automating the checking of the API against style guides, it frees up your developers to focus on more important work. This means faster development and fewer hours spent on repetitive coding, which saves time and money as better quality APIs can be delivered quicker.

It also makes collaboration smoother and more efficient. With OpenAPI, you have a clear, consistent description of your API that everyone can follow. This reduces misunderstandings and miscommunications between different teams--whether they're front-end, back-end, or QA. Fewer mix-ups mean less time fixing errors and more time building great features.

When it comes to testing and validation, OpenAPI shines by enabling automated testing against your API specifications. This catches bugs early in the development process, which is cheaper and easier to fix than issues found later on. Reliable, bug-free APIs lead to happy users and less downtime, saving you from costly fixes and lost customers.

Onboarding new developers is made a lot more efficient with OpenAPI. The detailed documentation helps new team members or customers quickly understand how your APIs work, learning about key validation rules, cutting down on the "time to first request" by sharing sample HTTP requests in curl or code samples in various programming languages. Faster onboarding means new hires can start contributing sooner, and customers can start paying for use sooner.

=== API Design-First

In an xref:_guides/api-basics/dev-guide-api-design-first.adoc[API design-first world], OpenAPI allows you to describe your whole API from endpoints to examples before even writing the first line of code.

Using this approach, OpenAPI becomes the cornerstone of your API, and becomes the single source of truth in your organization. Code is based on what has been validated during the design phase, and the documentation is generated and synced with the OpenAPI document by deploying updated docs when new commits are merged.

Your team can collaborate at every step of the API design phase and leverage their workflow:

* Business and product teams can specify new features that meet consumers needs and a technical writer or an engineer can create or update the OpenAPI documents. Teams can https://bump.sh/blog/api-design-first-with-bump-diff#collaborating-on-api-design[discuss the changes], test the impacts and validate them.
* The API design process is boosted: frontend and backend developers can use the OpenAPI file to start working on the implementation, even if this is not the final version of the document.

=== Code-first

Obviously, we can't talk about API Design-First without mentioning the previous popular approach of Code-First, as it can have some benefits as well.

If you need to deploy an API fast for a MVP, internal use or with few endpoints, spending time on API design before you start coding may not be necessary and may slow your delivery time.

As developers, we have our rooted habits and Code-First follows the historical development process. We put ourselves directly into coding, without the need to learn yet another language or design tools to create our APIs. Sometimes it is a great time saver.

== Tools for OpenAPI

There are many tools to help you get the most out of OpenAPI, at every step of the API life cycle, here is a selection of our preferred ones:

=== Editors

* https://mermade.github.io/openapi-gui/[OpenAPI-GUI]
* https://stoplight.io/studio/[Stoplight Studio]
* https://editor.swagger.io/[Swagger Editor]
* https://insomnia.rest/[Insomnia]

=== Linters

* https://github.com/stoplightio/spectral[Spectral]
* https://quobix.com/vacuum/[Vacuum]

=== Documentation

* https://bump.sh/api-documentation[Bump.sh] ðŸ’™
* https://github.com/swagger-api/swagger-ui[Swagger UI]
* https://github.com/Redocly/redoc[Redoc]
* https://readme.com/[Readme]

=== Mocking

* https://microcks.io/[Microcks]
* https://github.com/stoplightio/prism[Prism]
* https://pb33f.io/wiretap/[Wiretap]

=== Testing

* https://microcks.io/[Microcks]
* https://www.postman.com/api-platform/api-testing/[Postman]

=== Clients generator

* https://github.com/OpenAPITools/openapi-generator[OpenAPI Generator]

=== Observability

* https://www.akitasoftware.com/[Akita]
* https://useoptic.com/[Optic]

Besides the ones mentioned above, here is an amazing and more exhaustive list of curated tools for OpenAPI: https://openapi.tools/

== Give it a try

Now that you know what OpenAPI is, try it out with one of the following OpenAPI documents.

* https://raw.githubusercontent.com/bump-sh-examples/train-travel-api/main/openapi.yaml[Train Travel API]
* https://developers.bump.sh/source.json[Bump API]

After you've had a quick look around one of those, lets start picking through the structure so we can learn properly.
